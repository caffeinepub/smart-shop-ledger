{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 7,
  "summary": "Smart Shop Ledger (স্মার্ট শপ লেজার) app - working on Version 31 with fixes: (1) Dark mode persistence fix so dark mode stays active after app close/reopen, (2) Revert premium modal design to Version 27 style, (3) Premium lock enforcement: color categorization on home screen, task list & shopping list (bottom nav), 3 color themes in settings, 199-item free tier limit (unlimited for premium), custom sound upload, data export, advanced statistics.",
  "architectural_notes": [
    "Facebook link updated to https://fb.openinapp.co/khncs (custom open-in-app link)",
    "Admin email for premium BUY button: mdjahidhasanrubel73@gmail.com",
    "Splash screen: text-only animation, no logo image; app interior uses original logos",
    "Fake registration system (Google/Facebook/Email UI present but non-functional without premium); settings shows email saved but verification incomplete",
    "Color categorization (red/green/blue/orange dots) on sales entry + home screen color summary - premium locked",
    "Shopping list & task list as bottom-sheet popups with sound+animation+tap-hold-to-complete; both premium locked",
    "Today's sales section: Daily Gross Income + Daily Net Profit shown separately; auto-reset midnight, history auto-save",
    "Three sound types: click sound, popup sound, other (success/error); custom sound upload is premium feature",
    "Premium locked features: shopping/task lists, color categorization, premium themes (half locked), custom sounds, camera, registration system",
    "Promo codes (5 total): 987987, 789789, 2580, 01736026413, 01859040014"
  ],
  "known_issues": [
    "Notifications not firing when items are added - needs fix in v26",
    "Home screen items sold count shows 16 instead of correct count when one item is added - needs fix in v27",
    "Dark mode resets to light mode after app close/reopen - needs fix"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-add-two-new-promo-codes-01736026413-and-01859040014-to-the-existing-list-in-premiummodal-keeping-all-previous-codes-987987-789789-2580-the-total-valid-promo-code-list-must-be-987987-789789-2580-01736026413-01859040014",
      "title": "Add two new promo codes ('01736026413' and '01859040014') to the existing list in PremiumModal, keeping all previous codes ('987987', '789789', '2580'). The total valid promo code list must be: 987987, 789789, 2580, 01736026413, 01859040014.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-items-sold-count-bug-on-the-home-screen-dashboard-the-count-currently-shows-16-instead-of-the-correct-number-when-only-one-item-is-added-the-items-sold-counter-must-reflect-the-actual-number-of-sale-records-added-today-not-a-hardcoded-or-miscalculated-value",
      "title": "Fix the items sold count bug on the Home screen dashboard. The count currently shows 16 instead of the correct number when only one item is added. The items sold counter must reflect the actual number of sale records added today, not a hardcoded or miscalculated value.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-settings-page-ensure-the-facebook-page-button-opens-the-url-https-fb-openinapp-co-khncs-verify-and-update-the-developerinfomodal-or-wherever-the-facebook-link-is-stored-so-that-tapping-it-opens-exactly-this-url",
      "title": "In the Settings page, ensure the Facebook Page button opens the URL https://fb.openinapp.co/khncs. Verify and update the DeveloperInfoModal or wherever the Facebook link is stored so that tapping it opens exactly this URL.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-splashscreen-component-to-remove-the-logo-image-and-show-only-a-text-based-animation-the-splash-screen-should-animate-only-the-app-name-text-e-g-smart-shop-ledger-without-displaying-any-logo-graphic",
      "title": "Update the SplashScreen component to remove the logo image and show only a text-based animation. The splash screen should animate only the app name text (e.g., 'Smart Shop Ledger' / 'স্মার্ট শপ লেজার') without displaying any logo graphic.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-dark-mode-persistence-save-the-user-s-dark-light-mode-preference-to-localstorage-so-that-when-the-app-is-closed-and-reopened-the-dark-mode-state-is-restored-exactly-as-it-was-left-the-themecontext-must-read-from-localstorage-on-initialization-and-write-to-localstorage-on-every-toggle",
      "title": "Fix dark mode persistence: save the user's dark/light mode preference to localStorage so that when the app is closed and reopened, the dark mode state is restored exactly as it was left. The ThemeContext must read from localStorage on initialization and write to localStorage on every toggle.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-revert-the-premiummodal-component-s-visual-design-back-to-the-version-27-style-the-modal-must-use-the-original-layout-color-scheme-card-styles-typography-button-styles-and-overall-visual-appearance-from-version-27-do-not-change-any-promo-code-logic-or-plan-pricing-only-restore-the-ui-design",
      "title": "Revert the PremiumModal component's visual design back to the Version 27 style. The modal must use the original layout, color scheme, card styles, typography, button styles, and overall visual appearance from Version 27. Do not change any promo code logic or plan pricing — only restore the UI design.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-lock-the-color-categorization-feature-on-the-home-screen-behind-premium-when-a-free-user-tries-to-use-color-tags-to-categorize-items-the-color-picker-color-tag-selector-in-the-addsale-form-or-home-screen-breakdown-show-a-premiummodal-prompt-instead-of-allowing-access-premium-users-can-use-it-freely",
      "title": "Lock the color categorization feature on the Home screen behind premium. When a free user tries to use color tags to categorize items (the color picker/color tag selector in the AddSale form or home screen breakdown), show a PremiumModal prompt instead of allowing access. Premium users can use it freely.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-lock-the-task-list-and-product-list-bottom-navigation-or-bottom-options-behind-premium-free-users-tapping-these-options-must-see-a-premiummodal-prompt-premium-users-can-access-them-freely",
      "title": "Lock the 'Task List' (তোমার কাজের তালিকা) and 'Product List' (তোমার পণ্যের তালিকা) bottom navigation or bottom options behind premium. Free users tapping these options must see a PremiumModal prompt. Premium users can access them freely.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-settings-page-lock-3-specific-color-themes-behind-premium-mark-those-3-themes-with-a-lock-icon-for-free-users-when-a-free-user-taps-a-locked-theme-show-the-premiummodal-premium-users-can-apply-all-themes-freely-the-default-theme-must-remain-usable-by-free-users",
      "title": "In the Settings page, lock 3 specific color themes behind premium. Mark those 3 themes with a lock icon for free users. When a free user taps a locked theme, show the PremiumModal. Premium users can apply all themes freely. The default theme must remain usable by free users.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-enforce-a-199-item-free-tier-limit-across-all-addable-content-sales-records-product-list-entries-task-list-items-shopping-list-items-when-a-free-user-attempts-to-add-a-200th-item-of-any-type-block-the-action-and-show-a-premiummodal-prompt-premium-users-have-no-item-limit-the-199-item-cap-applies-per-content-type",
      "title": "Enforce a 199-item free tier limit across all addable content (sales records, product list entries, task list items, shopping list items). When a free user attempts to add a 200th item of any type, block the action and show a PremiumModal prompt. Premium users have no item limit. The 199-item cap applies per content type.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-lock-the-custom-sound-upload-feature-in-settings-behind-premium-free-users-should-see-the-custom-sound-upload-option-with-a-lock-icon-tapping-it-must-open-the-premiummodal-premium-users-can-upload-and-use-custom-sounds-freely",
      "title": "Lock the custom sound upload feature in Settings behind premium. Free users should see the custom sound upload option with a lock icon; tapping it must open the PremiumModal. Premium users can upload and use custom sounds freely.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-data-export-premium-feature-allow-premium-users-to-export-their-sales-history-and-product-list-data-as-a-downloadable-csv-or-text-file-from-the-settings-or-history-page-for-free-users-show-the-export-option-with-a-lock-icon-that-opens-the-premiummodal-when-tapped",
      "title": "Add a 'Data Export' premium feature: allow premium users to export their sales history and product list data as a downloadable CSV or text file from the Settings or History page. For free users, show the export option with a lock icon that opens the PremiumModal when tapped.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "In the Settings page, update the Facebook Page button URL from the old link to the new custom link: https://fb.openinapp.co/khncs. When the user taps the Facebook Page button, the app must open this new URL.",
      "reqIds": [
        "REQ-1"
      ],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Fix dark mode persistence: dark mode should remain active even after app is closed and reopened (save preference to storage).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Revert premium modal/UI design back to Version 27 style.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Enforce premium locks: color categorization on home screen, task list & product list (bottom options), 3 color themes in settings locked, free tier capped at 199 items (unlimited for premium), custom sound upload locked, data export locked, advanced statistics locked.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add an 'Advanced Statistics' premium feature: show premium users a detailed analytics section (e.g., weekly/monthly profit trends, top-selling products, best sales days) accessible from the Home or History page. For free users, show the section with a lock overlay that opens the PremiumModal when tapped.",
      "reqIds": [
        "REQ-14"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Smart Shop Ledger",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}